## Request definition

Command | desc
-------| -------
0 |	success
1 |	failure
2 |	createConnect
3 |	connectMethod
4 |	connectDataMetaMethod
5 |	statementMethod
6 |	resultSetMethod
7 |	prepareStmtMethod
126 |	loop
127 |	end
-1(128) |	null


> 失败及错误统一格式：1(byte)+errorLength(short)+errorMsg(bytes)

## Packet
* cmd is one byte;
* content is bytes;
* content length short or int;
* length==-1 represent null;

### createConnect
* 请求：2+keylength(short)+keyword+usrlength(short)+userName+pwdlength(short)+pwd+dblength(short)+dbname+propertylength(int)+property
* 成功：0(byte)
* 失败或错误见上文；

## param
type(byte) | desc
-------| -------
0 |	int
1 |	string
2 |	short
3 |	float
4 |	double
5 |	boolean

> * 数字类型参数
    flag(short)+type+number
    0+type+number     #number
    1+type+number     #number[1]
    2+type+number+number  #number[2] 
> * 字符串类型参数
    flag(short)+1(byte)+valueLength(int)+value
    0+1+valueLength+value  #str
    1+1+valueLength+value  #str[1]
    2+1+valueLength+value+valueLength+value  #str[2]
>> flag:0表示不是数组，大于0表示数组且大小即为数组大小

## method
byte+\[param......\]
> 参数个数+参数  
说明：有些方法参数很明确则可能没使用上述的冗余定义；

### connectMethod
#### setAutoCommit(boolean autoCommit)
* 请求：3(byte)+setAutoCommitLength(byte)+setAutoCommit+booleanLength(byte)+booleanStr
* 成功：0(byte)
* 失败或错误见上文；
#### commit()
* 请求：3(byte)+commitLength(byte)+commit
* 成功：0(byte)
* 失败或错误见上文
#### rollback()
* 请求：3(byte)+rollbackLength(byte)+rollback
* 成功：0(byte)
* 失败或错误见上文
#### createStatement()
* 请求：3(byte)+createStatementLength(byte)+createStatement+0(byte)
* 成功：0(byte)+statementIdLenth(short)+statementId
* 失败或错误见上文
#### createStatement(int resultSetType, int resultSetConcurrency)
* 请求：3(byte)+createStatementLength(byte)+createStatement+2(byte)+resultSetType+resultSetConcurrency
* 成功：0(byte)+statementIdLenth(short)+statementId
* 失败或错误见上文
#### createStatement(int resultSetType, int resultSetConcurrency, int resultSetHoldability)
* 请求：3(byte)+createStatementLength(byte)+createStatement+3(byte)+resultSetType+resultSetConcurrency+resultSetHoldability
* 成功：0(byte)+statementIdLenth(short)+statementId
* 失败或错误见上文
#### prepareStatement(String sql)
* 请求：3(byte)+prepareStatementLength(byte)+prepareStatement+1(byte)+sqlLength(int)+sql
* 成功：0(byte)+statementIdLenth(short)+statementId
* 失败或错误见上文
#### prepareStatement(String sql, int[] columnIndexes)
* 请求：3(byte)+prepareStatementLength(byte)+prepareStatement+2(byte)+sqlLength(int)+sql+colIndexSize(short)+0(byte)+colIndex+colIndex...
* 成功：0(byte)+statementIdLenth(short)+statementId
* 失败或错误见上文
#### prepareStatement(String sql, String[] columnNames)
* 请求：3(byte)+prepareStatementLength(byte)+prepareStatement+2(byte)+sqlLength(int)+sql+colIndexSize(short)+1(byte)+colNaLength(short)+colNa+colNalength(short)+colNa...
* 成功：0(byte)+statementIdLenth(short)+statementId
* 失败或错误见上文
#### prepareStatement(String sql, int autoGeneratedKeys)
* 请求：3(byte)+prepareStatementLength(byte)+prepareStatement+2(byte)+sqlLength(int)+sql+0(short)+0(byte)+autoGeneratedKeys
* 成功：0(byte)+statementIdLenth(short)+statementId
* 失败或错误见上文
#### prepareStatement(String sql, int resultSetType, int resultSetConcurrency)
* 请求：3(byte)+prepareStatementLength(byte)+prepareStatement+3(byte)+sqlLength(int)+sql+resultSetType+resultSetConcurrency
* 成功：0(byte)+statementIdLenth(short)+statementId
* 失败或错误见上文
#### prepareStatement(String sql, int resultSetType, int resultSetConcurrency,int resultSetHoldability)
* 请求：3(byte)+prepareStatementLength(byte)+prepareStatement+4(byte)+sqlLength(int)+sql+resultSetType+resultSetConcurrency+resultSetHoldability
* 成功：0(byte)+statementIdLenth(short)+statementId
* 失败或错误见上文
#### setUser(String userName)
* 请求：3(byte)+setUserLength(byte)+setUser+nameLength(byte)+userName
* 成功：0(byte)
* 失败或错误见上文；
### connectDataMetaMethod
todo.......................
### statementMethod
#### executeQuery(String sql)
* 请求：5(byte)+stmdIdLength(short)+stmtId+executeQueryLength(byte)+executeQuery+sqlLength(int)+sql
* 成功：0(byte)+ResultSet;
* 失败或错误见上文；
#### executeUpdate(String sql)
* 请求：5(byte)+stmdIdLength(short)+stmtId+executeUpdateLength(byte)+executeUpdate+1(byte)+sqlLength(int)+sql
* 成功：0(byte)+int
* 失败或错误见上文；
#### executeUpdate(String sql, int[] columnIndexes)
* 请求：5(byte)+stmdIdLength(short)+stmtId+executeUpdateLength(byte)+executeUpdate+2(byte)+sqlLength(int)+sql+indexSize(short)+0(byte)+colIndex+colIndex...
* 成功：0(byte)+int
* 失败或错误见上文；
#### executeUpdate(String sql, String[] columnNames)
* 请求：5(byte)+stmdIdLength(short)+stmtId+executeUpdateLength(byte)+executeUpdate+2(byte)+sqlLength(int)+sql+nameSize(short)+1(byte)+colNameLength(short)+colName+colNameLength(short)+colName...
* 成功：0(byte)+int
* 失败或错误见上文；
#### executeUpdate(String sql, int autoGeneratedKeys)
* 请求：5(byte)+stmdIdLength(short)+stmtId+executeUpdateLength(byte)+executeUpdate+2(byte)+sqlLength(int)+sql+0(short)+0(byte)+autoGeneratedKeys
* 成功：0(byte)+int
* 失败或错误见上文；
#### execute(String sql)
* 请求：5(byte)+stmdIdLength(short)+stmtId+executeLength(byte)+execute+1(byte)+sqlLength(int)+sql
* 成功：0(byte)+booLength(short)+booleanStr
* 失败或错误见上文；
#### execute(String sql, int autoGeneratedKeys)
* 请求：5(byte)+stmdIdLength(short)+stmtId+executeLength(byte)+execute+2(byte)+sqlLength(int)+sql+0(short)+0(byte)+autoGeneratedKeys
* 成功：0(byte)+booLength(short)+booleanStr
* 失败或错误见上文；
#### execute(String sql, int[] columnIndexes)
* 请求：5(byte)+stmdIdLength(short)+stmtId+executeLength(byte)+execute+2(byte)+sqlLength(int)+sql+indexSize(short)+0(byte)+colIndex+colIndex...
* 成功：0(byte)+booLength(short)+booleanStr
* 失败或错误见上文；
#### execute(String sql, String[] columnNames)
* 请求：5(byte)+stmdIdLength(short)+stmtId+executeLength(byte)+execute+2(byte)+sqlLength(int)+sql+nameSize(short)+1(byte)+nameLength(short)+colName+nameLength(short)+colName...
* 成功：0(byte)+booLength(short)+booleanStr
* 失败或错误见上文；
#### getGeneratedKeys()
* 请求：5(byte)+stmdIdLength(short)+stmtId+getGeneratedKeysLength(byte)+getGeneratedKeys
* 成功：0(byte)+ResultSet;
* 失败或错误见上文；
#### executeBatch(String[] sqls)
* 请求：5(byte)+stmdIdLength(short)+stmtId+executeBatchLength(byte)+executeBatch+sqlSize(short)+1(byte)+sqlLength(int)+sql+sqlLength(int)+sql....
* 成功：0(byte)+intSize(short)+i1+i2...
* 失败或错误见上文；
#### setFetchDirection(int direction)
* 请求：5(byte)+stmdIdLength(short)+stmtId+setFetchDirectionLength(byte)+setFetchDirection+direction
* 成功：0(byte)
* 失败或错误见上文；
#### setFetchSize(int rows)
* 请求：5(byte)+stmdIdLength(short)+stmtId+setFetchSizelength(byte)+setFetchSize+rows
* 成功：0(byte)
* 失败或错误见上文；
#### getResultSet()
* 说明：execute执行后可能调用这个方法；
* 请求：5(byte)+stmdIdLength(short)+stmtId+getResultSetLength(byte)+getResultSet
* 成功：0(byte)+ResultSet;
* 失败或错误见上文；
#### close()
* 请求：5(byte)+stmdIdLength(short)+stmtId+closeLength(byte)+close
* 成功：0(byte)
* 失败或错误见上文；
### prepareStmtMethod
#### executeQuery()
* 请求：5(byte)+stmdIdLength(short)+stmtId+executeQueryLength(byte)+executeQuery
* 成功：0(byte)+ResultSet;
* 失败或错误见上文；
#### executeUpdate()
* 请求：5(byte)+stmdIdLength(short)+stmtId+executeUpdateLength(byte)+executeUpdate
* 成功：0(byte)+int
* 失败或错误见上文；
#### setNull(int parameterIndex, int sqlType)
* 请求：7(byte)+stmdIdLength(short)+stmtId+setNullLength(byte)+setNull+parameterIndex+sqlType
* 成功：0(byte);
* 失败或错误见上文；
#### setBoolean(int parameterIndex, boolean x)
* 请求：7(byte)+stmdIdLength(short)+stmtId+setBooleanLength(byte)+setBoolean+parameterIndex+booleanLength(byte)+boolean
* 成功：0(byte)
* 失败或错误见上文；
#### setByte(int parameterIndex, byte x)
* 请求：7(byte)+stmdIdLength(short)+stmtId+setByteLength(byte)+setByte+parameterIndex+x
* 成功：0(byte)
* 失败或错误见上文；
#### setShort(int parameterIndex, short x)
* 请求：7(byte)+stmdIdLength(short)+stmtId+setShortLength(byte)+setShort+parameterIndex+x
* 成功：0(byte)
* 失败或错误见上文；
#### setInt(int parameterIndex, int x)
* 请求：7(byte)+stmdIdLength(short)+stmtId+setIntLength(byte)+setInt+parameterIndex+x
* 成功：0(byte)
* 失败或错误见上文；
#### setLong(int parameterIndex, long x)
* 请求：7(byte)+stmdIdLength(short)+stmtId+setLongLength(byte)+setLong+parameterIndex+x
* 成功：0(byte)
* 失败或错误见上文；
#### setFloat(int parameterIndex, float x)
* 请求：7(byte)+stmdIdLength(short)+stmtId+setFloatLength(byte)+setFloat+parameterIndex+x
* 成功：0(byte)
* 失败或错误见上文；
#### setDouble(int parameterIndex, double x)
* 请求：7(byte)+stmdIdLength(short)+stmtId+setDoubleLength(byte)+setDouble+parameterIndex+x
* 成功：0(byte)
* 失败或错误见上文；
#### setString(int parameterIndex, String x)
* 请求：7(byte)+stmdIdLength(short)+stmtId+setStringLength(byte)+setString+parameterIndex+xLength(int)+x
* 成功：0(byte)
* 失败或错误见上文；
#### setBytes(int parameterIndex, byte[] x)
* 请求：7(byte)+stmdIdLength(short)+stmtId+setBytesLength(byte)+setBytes+parameterIndex+xLength(int)+x
* 成功：0(byte)
* 失败或错误见上文；
#### setDate(int parameterIndex, Date x)
* 请求：7(byte)+stmdIdLength(short)+stmtId+setDateLength(byte)+setDate+parameterIndex+milliseconds(long)
* 成功：0(byte)
* 失败或错误见上文；
* 说明：x.getTime()即可获取milliseconds
#### setTime(int parameterIndex, Time x)
* 请求：7(byte)+stmdIdLength(short)+stmtId+setTimeLength(byte)+setTime+parameterIndex+milliseconds(long)
* 成功：0(byte)
* 失败或错误见上文；
* 说明：x.getTime()即可获取milliseconds
#### setTimestamp(int parameterIndex, Timestamp x)
* 请求：7(byte)+stmdIdLength(short)+stmtId+setTimestampLength(byte)+setTimestamp+parameterIndex+epochSecond(long)+nanos(int)
* 成功：0(byte)
* 失败或错误见上文；
* 说明：timestamp.toInstant().getEpochSecond()
          timestamp.toInstant().getNano()
#### clearParameters()
* 请求：7(byte)+stmdIdLength(short)+stmtId+clearParametersLength(byte)+clearParameters
* 成功：0(byte)
* 失败或错误见上文；
#### execute()
* 请求：7(byte)+stmdIdLength(short)+stmtId+executeLength(byte)+execute
* 成功：0(byte)+booLength(short)+booleanStr
* 失败或错误见上文；
#### addBatch()
* 请求：7(byte)+stmdIdLength(short)+stmtId+addBatchLength(byte)+addBatch
* 成功：0(byte)
* 失败或错误见上文；
#### setNString(int parameterIndex, String value)
* 请求：7(byte)+stmdIdLength(short)+stmtId+setStringLength(byte)+setString+parameterIndex+valueLength(int)+value
* 成功：0(byte)
* 失败或错误见上文；
### resultSetMethod
#### getCursorName()
* 请求：6(byte)+stmdIdLength(short)+stmtId+rsIdLength(short)+rsId+getCursorNameLength(byte)+getCursorName
* 成功：0(byte)+strLength(short)+str
* 失败或错误见上文；
#### isLast()
* 请求：6(byte)+stmdIdLength(short)+stmtId+rsIdLength(short)+rsId+isLastLength(byte)+isLast
* 成功：0(byte)+boolLength(short)+boolean
* 失败或错误见上文；
#### beforeFirst()
* 请求：6(byte)+stmdIdLength(short)+stmtId+rsIdLength(short)+rsId+beforeFirstLength(byte)+beforeFirst
* 成功：0(byte)
* 失败或错误见上文；
#### afterLast()
* 请求：6(byte)+stmdIdLength(short)+stmtId+rsIdLength(short)+rsId+afterLastLength(byte)+afterLast
* 成功：0(byte)
* 失败或错误见上文；
#### first() 
* 请求：6(byte)+stmdIdLength(short)+stmtId+rsIdLength(short)+rsId+firstLength(byte)+first
* 成功：0(byte)+boolLength(short)+boolean
* 失败或错误见上文；
#### last()
* 请求：6(byte)+stmdIdLength(short)+stmtId+rsIdLength(short)+rsId+lastLength(byte)+last
* 成功：0(byte)+boolLength(short)+boolean
* 失败或错误见上文；
#### getRow()
* 请求：6(byte)+stmdIdLength(short)+stmtId+rsIdLength(short)+rsId+getRowLength(byte)+getRow
* 成功：0(byte)+int
* 失败或错误见上文；
#### absolute(int row)
* 请求：6(byte)+stmdIdLength(short)+stmtId+rsIdLength(short)+rsId+absoluteLength(byte)+absolute+int
* 成功：0(byte)+boolLength(short)+boolean
* 失败或错误见上文；
#### relative(int rows)
* 请求：6(byte)+stmdIdLength(short)+stmtId+rsIdLength(short)+rsId+relativeLength(byte)+relative+int
* 成功：0(byte)+boolLength(short)+boolean
* 失败或错误见上文；
#### setFetchSize(int rows)
* 请求：6(byte)+stmdIdLength(short)+stmtId+rsIdLength(short)+rsId+setFetchSizeLength(byte)+setFetchSize+rows
* 成功：0(byte)
* 失败或错误见上文；
#### next()
* 请求：6(byte)+stmdIdLength(short)+stmtId+rsIdLength(short)+rsId+nextLength(byte)+next
* 成功：0(byte)+ResultSetRow
* 失败或错误见上文；
#### close()
* 请求：6(byte)+stmdIdLength(short)+stmtId+rsIdLength(short)+rsId+closeLength(byte)+close
* 成功：0(byte)
* 失败或错误见上文；
## Appendix

### ResultSet
rsId(short)+rsId+ResultSetMeta+ResultSetRow
 
### ResultSetMeta
metaSize(short)+\[
cataloglength(short)+catalogName+schemalength(short)+schemaName+tablelength(short)+tableName+labellength(short)+columnLabel+namelength(short)+columnName+typelength(short)+columnTypeName+columnDisplaySize(int)+precision(int)+scale(int)+columnType(int)
\] 
### ResultSetRow
说明：对应与resultsetMeta的顺序返回数据。
126(byte)+\[ bytes1Size(int)+bytes1+bytesSize(int)+bytes2+...\]
126(byte)+\[ bytes1Size(int)+bytes1+bytesSize(int)+bytes2+...\]
......
127(end)


